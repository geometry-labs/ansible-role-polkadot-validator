[Unit]
Description=Polkadot Node

[Service]
User=polkadot
Group=polkadot
ExecStart=/usr/local/bin/polkadot \
  --name {{ project|default('project') }}-sv-validator-{{ count }} \
  --validator \
  {% if polkadot_additional_common_flags is defined and polkadot_additional_common_flags|length %}
  {{ polkadot_additional_common_flags }} \
  {% endif %}
  {% if polkadot_additional_validator_flags is defined and polkadot_additional_validator_flags|length %}
  {{ polkadot_additional_validator_flags }} \
  {% endif %}
  {% if loggingFilter is defined and loggingFilter|length %}
  -l{{ loggingFilter }} \
  {% endif %}
  --chain={{ chain }} \
  --database paritydb \
  {% if base_path is defined and base_path|length %}
  --base-path '{{ base_path }}' \
  {% endif %}
  {% if telemetryUrl is defined and telemetryUrl|length %}
  --telemetry-url '{{ telemetryUrl }} 1'
  {% else %}
  --no-telemetry
  {% endif %}

Restart=always

[Install]
WantedBy=multi-user.target